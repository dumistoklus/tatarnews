Ext.DataView.DragSelector=function(k){function n(){g=[];b.all.each(function(a){g[g.length]=a.getRegion()});l=b.el.getRegion()}function m(){return!1}function o(a){return!p||a.target==b.el.dom}function q(){b.on("containerclick",m,b,{single:!0});c?(c.dom.parentNode!==b.el.dom&&b.el.dom.appendChild(c.dom),c.setDisplayed("block")):c=b.el.createChild({cls:"x-view-selector"});n();b.clearSelections()}function r(){var a=h.startXY,i=h.getXY(),d=Math.min(a[0],i[0]),j=Math.min(a[1],i[1]),e=Math.abs(a[0]-i[0]),
a=Math.abs(a[1]-i[1]);f.left=d;f.top=j;f.right=d+e;f.bottom=j+a;f.constrainTo(l);c.setRegion(f);d=0;for(j=g.length;d<j;d++)if(e=g[d],(a=f.intersect(e))&&!e.selected)e.selected=!0,b.select(d,!0);else if(!a&&e.selected)e.selected=!1,b.deselect(d)}function s(){Ext.isIE||b.un("containerclick",m,b);c&&c.setDisplayed(!1)}function t(a){h=new Ext.dd.DragTracker({onBeforeStart:o,onStart:q,onDrag:r,onEnd:s});h.initEl(a.el)}var k=k||{},b,c,h,g,l,f=new Ext.lib.Region(0,0,0,0),p=k.dragSafe===!0;this.init=function(a){b=
a;b.on("render",t)}};